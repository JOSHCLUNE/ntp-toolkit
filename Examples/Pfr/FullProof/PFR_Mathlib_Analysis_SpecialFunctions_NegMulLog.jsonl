{"srcUpToDecl":"import Mathlib.Analysis.Convex.Jensen\nimport Mathlib.Analysis.SpecialFunctions.Log.NegMulLog\n\n/-!\n# Entropy function\n\nThe purpose of this file is to record basic analytic properties of the function\n$$h(x) = - x * \\log x$$ on the unit interval, for use in the theory of Shannon entropy.\n\n## Main results\n\n* `sum_negMulLog_le`: a Jensen inequality for `negMulLog`\n* `sum_negMulLog_eq`: the equality case of this inequality\n\n-/\n\nopen scoped ENNReal NNReal Topology BigOperators\n\nnamespace Real\nvariable {ι : Type*} {s : Finset ι} {w : ι → ℝ} {p : ι → ℝ}\n\n","proof":":=\n  concaveOn_negMulLog.le_map_sum h₀ h₁ hmem","declId":"PFR.Mathlib.Analysis.SpecialFunctions.NegMulLog.22_0.6m4kngu8rNxO3Ek","decl":"/-- Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_le (h₀ : ∀ i ∈ s, 0 ≤ w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) ≤ negMulLog (∑ i in s, w i * p i) "}
{"srcUpToDecl":"import Mathlib.Analysis.Convex.Jensen\nimport Mathlib.Analysis.SpecialFunctions.Log.NegMulLog\n\n/-!\n# Entropy function\n\nThe purpose of this file is to record basic analytic properties of the function\n$$h(x) = - x * \\log x$$ on the unit interval, for use in the theory of Shannon entropy.\n\n## Main results\n\n* `sum_negMulLog_le`: a Jensen inequality for `negMulLog`\n* `sum_negMulLog_eq`: the equality case of this inequality\n\n-/\n\nopen scoped ENNReal NNReal Topology BigOperators\n\nnamespace Real\nvariable {ι : Type*} {s : Finset ι} {w : ι → ℝ} {p : ι → ℝ}\n\n/-- Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_le (h₀ : ∀ i ∈ s, 0 ≤ w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) ≤ negMulLog (∑ i in s, w i * p i) :=\n  concaveOn_negMulLog.le_map_sum h₀ h₁ hmem\n\n","proof":":=\n  strictConcaveOn_negMulLog.lt_map_sum h₀ h₁ hmem hp","declId":"PFR.Mathlib.Analysis.SpecialFunctions.NegMulLog.27_0.6m4kngu8rNxO3Ek","decl":"/-- The strict Jensen inequality for the entropy function. -/\nlemma sum_negMulLog_lt (h₀ : ∀ i ∈ s, 0 < w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i)\n    (hp : ∃ j ∈ s, ∃ k ∈ s, p j ≠ p k) :\n    ∑ i in s, w i * negMulLog (p i) < negMulLog (∑ i in s, w i * p i) "}
{"srcUpToDecl":"import Mathlib.Analysis.Convex.Jensen\nimport Mathlib.Analysis.SpecialFunctions.Log.NegMulLog\n\n/-!\n# Entropy function\n\nThe purpose of this file is to record basic analytic properties of the function\n$$h(x) = - x * \\log x$$ on the unit interval, for use in the theory of Shannon entropy.\n\n## Main results\n\n* `sum_negMulLog_le`: a Jensen inequality for `negMulLog`\n* `sum_negMulLog_eq`: the equality case of this inequality\n\n-/\n\nopen scoped ENNReal NNReal Topology BigOperators\n\nnamespace Real\nvariable {ι : Type*} {s : Finset ι} {w : ι → ℝ} {p : ι → ℝ}\n\n/-- Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_le (h₀ : ∀ i ∈ s, 0 ≤ w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) ≤ negMulLog (∑ i in s, w i * p i) :=\n  concaveOn_negMulLog.le_map_sum h₀ h₁ hmem\n\n/-- The strict Jensen inequality for the entropy function. -/\nlemma sum_negMulLog_lt (h₀ : ∀ i ∈ s, 0 < w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i)\n    (hp : ∃ j ∈ s, ∃ k ∈ s, p j ≠ p k) :\n    ∑ i in s, w i * negMulLog (p i) < negMulLog (∑ i in s, w i * p i) :=\n  strictConcaveOn_negMulLog.lt_map_sum h₀ h₁ hmem hp\n\n","proof":":=\n  eq_comm.trans $ strictConcaveOn_negMulLog.map_sum_eq_iff h₀ h₁ hmem","declId":"PFR.Mathlib.Analysis.SpecialFunctions.NegMulLog.33_0.6m4kngu8rNxO3Ek","decl":"/-- The equality case of Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_eq_iff (h₀ : ∀ i ∈ s, 0 < w i) (h₁ : ∑ i in s, w i = 1)\n    (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) = negMulLog (∑ i in s, w i * p i) ↔\n      ∀ j ∈ s, p j = ∑ i in s, w i * p i "}
{"srcUpToDecl":"import Mathlib.Analysis.Convex.Jensen\nimport Mathlib.Analysis.SpecialFunctions.Log.NegMulLog\n\n/-!\n# Entropy function\n\nThe purpose of this file is to record basic analytic properties of the function\n$$h(x) = - x * \\log x$$ on the unit interval, for use in the theory of Shannon entropy.\n\n## Main results\n\n* `sum_negMulLog_le`: a Jensen inequality for `negMulLog`\n* `sum_negMulLog_eq`: the equality case of this inequality\n\n-/\n\nopen scoped ENNReal NNReal Topology BigOperators\n\nnamespace Real\nvariable {ι : Type*} {s : Finset ι} {w : ι → ℝ} {p : ι → ℝ}\n\n/-- Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_le (h₀ : ∀ i ∈ s, 0 ≤ w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) ≤ negMulLog (∑ i in s, w i * p i) :=\n  concaveOn_negMulLog.le_map_sum h₀ h₁ hmem\n\n/-- The strict Jensen inequality for the entropy function. -/\nlemma sum_negMulLog_lt (h₀ : ∀ i ∈ s, 0 < w i) (h₁ : ∑ i in s, w i = 1) (hmem : ∀ i ∈ s, 0 ≤ p i)\n    (hp : ∃ j ∈ s, ∃ k ∈ s, p j ≠ p k) :\n    ∑ i in s, w i * negMulLog (p i) < negMulLog (∑ i in s, w i * p i) :=\n  strictConcaveOn_negMulLog.lt_map_sum h₀ h₁ hmem hp\n\n/-- The equality case of Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_eq_iff (h₀ : ∀ i ∈ s, 0 < w i) (h₁ : ∑ i in s, w i = 1)\n    (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) = negMulLog (∑ i in s, w i * p i) ↔\n      ∀ j ∈ s, p j = ∑ i in s, w i * p i :=\n  eq_comm.trans $ strictConcaveOn_negMulLog.map_sum_eq_iff h₀ h₁ hmem\n\n","proof":":=\n  eq_comm.trans $ strictConcaveOn_negMulLog.map_sum_eq_iff' h₀ h₁ hmem","declId":"PFR.Mathlib.Analysis.SpecialFunctions.NegMulLog.40_0.6m4kngu8rNxO3Ek","decl":"/-- The equality case of Jensen's inequality for the entropy function. -/\nlemma sum_negMulLog_eq_iff' (h₀ : ∀ i ∈ s, 0 ≤ w i) (h₁ : ∑ i in s, w i = 1)\n    (hmem : ∀ i ∈ s, 0 ≤ p i) :\n    ∑ i in s, w i * negMulLog (p i) = negMulLog (∑ i in s, w i * p i) ↔\n      ∀ j ∈ s, w j ≠ 0 → p j = ∑ i in s, w i * p i "}
